{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'./firebaseConfig';import{doc,updateDoc,arrayUnion,getDoc}from\"firebase/firestore\";import{calculateBalances,calculateTransfers}from'./calculate';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExpenseForm=_ref=>{let{projectName,members}=_ref;const[payer,setPayer]=useState('');const[amount,setAmount]=useState('');const[payees,setPayees]=useState([]);const[error,setError]=useState('');const[transfers,setTransfers]=useState([]);const[expenses,setExpenses]=useState([]);// 支払い記録を保存するステート\nconst[editingExpense,setEditingExpense]=useState(null);// 編集中の支払い記録\nconst handlePayeeChange=(index,value)=>{const newPayees=[...payees];newPayees[index]=value;setPayees(newPayees);};const handleAddPayee=()=>{setPayees([...payees,'']);};const handleSubmit=async e=>{e.preventDefault();setError('');try{const projectRef=doc(db,\"projects\",projectName);const finalPayees=payees.includes('全員')?members:payees;await updateDoc(projectRef,{expenses:arrayUnion({payer:payer,amount:parseFloat(amount),payees:finalPayees})});alert('支出が記録されました');await fetchExpenses();// 新しい支払い記録を取得\nawait fetchTransfers();// 支払い指示を再計算\n}catch(error){setError('エラーが発生しました: '+error.message);}};const resetinput=()=>{setPayer('');setAmount('');setPayees([]);};const fetchExpenses=async()=>{try{const projectRef=doc(db,\"projects\",projectName);const projectDoc=await getDoc(projectRef);if(projectDoc.exists()){const projectData=projectDoc.data();setExpenses(projectData.expenses||[]);// Firestoreから支払い記録を取得\n}else{setError('プロジェクトが見つかりません');}}catch(error){setError('支払い記録の取得中にエラーが発生しました: '+error.message);}};const fetchTransfers=async()=>{try{const balances=await calculateBalances(projectName);const transfers=calculateTransfers(balances);setTransfers(transfers);}catch(error){setError('計算中にエラーが発生しました: '+error.message);}};const handleEditExpense=expense=>{setEditingExpense(expense);setPayer(expense.payer);setAmount(expense.amount);setPayees(expense.payees);};const DeleteExpense=async expense=>{setError('');try{const projectRef=doc(db,\"projects\",projectName);const updatedExpenses=expenses.filter(exp=>exp!==expense);// 削除対象を除外\nawait updateDoc(projectRef,{expenses:updatedExpenses});// Firestoreを更新\nsetExpenses(updatedExpenses);// ローカルステートを更新\nalert('支払い記録が削除されました');await fetchTransfers();// 支払い指示を再計算\n}catch(error){setError('支払い記録の削除中にエラーが発生しました: '+error.message);}};const updateExpense=async e=>{e.preventDefault();setError('');try{const projectRef=doc(db,\"projects\",projectName);const updatedExpenses=expenses.map(expense=>expense===editingExpense?{payer,amount:parseFloat(amount),payees}:expense);await updateDoc(projectRef,{expenses:updatedExpenses});setExpenses(updatedExpenses);setEditingExpense(null);alert('支払い記録が更新されました');await fetchTransfers();// 支払い指示を再計算\n}catch(error){setError('支払い記録の更新中にエラーが発生しました: '+error.message);}};useEffect(()=>{fetchExpenses();// 初期化時に支払い記録を取得\nfetchTransfers();// 初期化時に支払い指示を計算\n},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Record\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:editingExpense?updateExpense:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payer:\"}),/*#__PURE__*/_jsxs(\"select\",{value:payer,onChange:e=>setPayer(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"choose\"}),members.map((member,index)=>/*#__PURE__*/_jsx(\"option\",{value:member,children:member},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"money:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payee:\"}),payees.map((payee,index)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:payee,onChange:e=>handlePayeeChange(index,e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose\"}),members.map((member,idx)=>/*#__PURE__*/_jsx(\"option\",{value:member,children:member},idx)),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5168\\u54E1\",children:\"All\"})]})},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddPayee,children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetinput,children:\"reset\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingExpense?'更新':'save'})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"h2\",{children:\"Record\"}),/*#__PURE__*/_jsx(\"ul\",{children:expenses.map((expense,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[expense.payer,\" pays \",expense.amount,\" yen to \",expense.payees.join(', '),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditExpense(expense),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>DeleteExpense(expense),children:\"Delete\"})]},index))}),/*#__PURE__*/_jsx(\"h2\",{children:\"pays instruction\"}),/*#__PURE__*/_jsx(\"ul\",{children:transfers.map((transfer,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[transfer.from,\" pays \",transfer.to,\"  \",transfer.amount,\" Yen\"]},index))})]});};export default ExpenseForm;","map":{"version":3,"names":["React","useState","useEffect","db","doc","updateDoc","arrayUnion","getDoc","calculateBalances","calculateTransfers","jsx","_jsx","jsxs","_jsxs","ExpenseForm","_ref","projectName","members","payer","setPayer","amount","setAmount","payees","setPayees","error","setError","transfers","setTransfers","expenses","setExpenses","editingExpense","setEditingExpense","handlePayeeChange","index","value","newPayees","handleAddPayee","handleSubmit","e","preventDefault","projectRef","finalPayees","includes","parseFloat","alert","fetchExpenses","fetchTransfers","message","resetinput","projectDoc","exists","projectData","data","balances","handleEditExpense","expense","DeleteExpense","updatedExpenses","filter","exp","updateExpense","map","style","textAlign","children","onSubmit","onChange","target","required","member","type","payee","idx","onClick","color","join","transfer","from","to"],"sources":["C:/Users/ru07k/test/warikan/src/ExpenseForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from './firebaseConfig';\r\nimport { doc, updateDoc, arrayUnion, getDoc } from \"firebase/firestore\";\r\nimport { calculateBalances, calculateTransfers } from './calculate';\r\n\r\nconst ExpenseForm = ({ projectName, members }) => {\r\n  const [payer, setPayer] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [payees, setPayees] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [transfers, setTransfers] = useState([]);\r\n  const [expenses, setExpenses] = useState([]); // 支払い記録を保存するステート\r\n  const [editingExpense, setEditingExpense] = useState(null); // 編集中の支払い記録\r\n\r\n  const handlePayeeChange = (index, value) => {\r\n    const newPayees = [...payees];\r\n    newPayees[index] = value;\r\n    setPayees(newPayees);\r\n  };\r\n\r\n  const handleAddPayee = () => {\r\n    setPayees([...payees, '']);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const finalPayees = payees.includes('全員') ? members : payees;\r\n      await updateDoc(projectRef, {\r\n        expenses: arrayUnion({\r\n          payer: payer,\r\n          amount: parseFloat(amount),\r\n          payees: finalPayees\r\n        })\r\n      });\r\n      alert('支出が記録されました');\r\n      await fetchExpenses(); // 新しい支払い記録を取得\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('エラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\nconst resetinput = () => {  \r\n  setPayer('');\r\n  setAmount('');\r\n  setPayees([]);\r\n};\r\n\r\n\r\n\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const projectDoc = await getDoc(projectRef);\r\n      if (projectDoc.exists()) {\r\n        const projectData = projectDoc.data();\r\n        setExpenses(projectData.expenses || []); // Firestoreから支払い記録を取得\r\n      } else {\r\n        setError('プロジェクトが見つかりません');\r\n      }\r\n    } catch (error) {\r\n      setError('支払い記録の取得中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const fetchTransfers = async () => {\r\n    try {\r\n      const balances = await calculateBalances(projectName);\r\n      const transfers = calculateTransfers(balances);\r\n      setTransfers(transfers);\r\n    } catch (error) {\r\n      setError('計算中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleEditExpense = (expense) => {\r\n    setEditingExpense(expense);\r\n    setPayer(expense.payer);\r\n    setAmount(expense.amount);\r\n    setPayees(expense.payees);\r\n  };\r\n  const DeleteExpense = async (expense) => {\r\n    setError('');\r\n  \r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const updatedExpenses = expenses.filter((exp) => exp !== expense); // 削除対象を除外\r\n      await updateDoc(projectRef, { expenses: updatedExpenses }); // Firestoreを更新\r\n      setExpenses(updatedExpenses); // ローカルステートを更新\r\n      alert('支払い記録が削除されました');\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('支払い記録の削除中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n    \r\n\r\n\r\n  const updateExpense = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const updatedExpenses = expenses.map((expense) =>\r\n        expense === editingExpense\r\n          ? { payer, amount: parseFloat(amount), payees }\r\n          : expense\r\n      );\r\n      await updateDoc(projectRef, { expenses: updatedExpenses });\r\n      setExpenses(updatedExpenses);\r\n      setEditingExpense(null);\r\n      alert('支払い記録が更新されました');\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('支払い記録の更新中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExpenses(); // 初期化時に支払い記録を取得\r\n    fetchTransfers(); // 初期化時に支払い指示を計算\r\n  }, []);\r\n\r\n  return (\r\n    <div style = {{ textAlign: 'center' }}>\r\n      <h1>Your Record</h1>\r\n      <form onSubmit={editingExpense ? updateExpense : handleSubmit}>\r\n        <div>\r\n          <label>Payer:</label>\r\n          <select value={payer} onChange={(e) => setPayer(e.target.value)} required>\r\n            <option value=\"\">choose</option>\r\n            {members.map((member, index) => (\r\n              <option key={index} value={member}>{member}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>money:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Payee:</label>\r\n          {payees.map((payee, index) => (\r\n            <div key={index}>\r\n              <select value={payee} onChange={(e) => handlePayeeChange(index, e.target.value)} required>\r\n                <option value=\"\">Choose</option>\r\n                {members.map((member, idx) => (\r\n                  <option key={idx} value={member}>{member}</option>\r\n                ))}\r\n                <option value=\"全員\">All</option>\r\n              </select>\r\n            </div>\r\n          ))}\r\n          <button type=\"button\" onClick={handleAddPayee}>+</button>\r\n         \r\n        </div>\r\n        <button type=\"button\" onClick={resetinput}>reset</button>\r\n        <button type=\"submit\">{editingExpense ? '更新' : 'save'}</button>\r\n      </form>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <h2>Record</h2>\r\n      <ul>\r\n  {expenses.map((expense, index) => (\r\n    <li key={index}>\r\n      {expense.payer} pays {expense.amount} yen to {expense.payees.join(', ')} \r\n      <button onClick={() => handleEditExpense(expense)}>Edit</button>\r\n      <button onClick={() => DeleteExpense(expense)}>Delete</button>\r\n    </li>\r\n  ))}\r\n</ul>\r\n      <h2>pays instruction</h2>\r\n      <ul>\r\n        {transfers.map((transfer, index) => (\r\n          <li key={index}>\r\n            {transfer.from} pays {transfer.to}  {transfer.amount} Yen\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );  \r\n};\r\n\r\n\r\n\r\n\r\nexport default ExpenseForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}