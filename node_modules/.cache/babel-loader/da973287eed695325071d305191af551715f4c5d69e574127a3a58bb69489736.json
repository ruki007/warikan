{"ast":null,"code":"import React,{useState}from'react';import{createRoot}from'react-dom/client';import ProjectNameInput from'./ProjectNameInput';import MemberInput from'./MemberInput';import ExpenseForm from'./ExpenseForm';import{doc,getDoc}from\"firebase/firestore\";import{db}from'./firebaseConfig';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[projectName,setProjectName]=useState('');const[members,setMembers]=useState([]);const[expenses,setExpenses]=useState([]);const[loading,setLoading]=useState(false);const[confirmingMembers,setConfirmingMembers]=useState(false);const[membersConfirmed,setMembersConfirmed]=useState(false);const[continueProject,setContinueProject]=useState(false);const[startNew,setStartNew]=useState(false);const handleProjectCreated=name=>{setProjectName(name);};const handleMembersCreated=members=>{setMembers(members);setConfirmingMembers(true);};const handleConfirmMembers=()=>{setConfirmingMembers(false);setLoading(true);setTimeout(()=>{setLoading(false);setMembersConfirmed(true);},3000);};const handleContinueProject=async()=>{setLoading(true);try{const projectRef=doc(db,\"projects\",projectName);const projectDoc=await getDoc(projectRef);if(projectDoc.exists()){const projectData=projectDoc.data();setProjectName(projectData.name);setMembers(projectData.members);setExpenses(projectData.expenses||[]);setMembersConfirmed(true);}else{alert('プロジェクトが見つかりません');}}catch(error){alert('エラーが発生しました: '+error.message);}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{children:!startNew&&!continueProject?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Warika\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStartNew(true),children:\"New game\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setContinueProject(true),children:\"load game\"})})]}):startNew?!projectName?/*#__PURE__*/_jsx(ProjectNameInput,{onProjectCreated:handleProjectCreated}):!membersConfirmed?confirmingMembers?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u3053\\u306E\\u30E1\\u30F3\\u30D0\\u30FC\\u3067\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\\u306A?\"}),/*#__PURE__*/_jsx(\"ul\",{children:members.map((member,index)=>/*#__PURE__*/_jsx(\"li\",{children:member},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmMembers,children:\"Yes\"})]}):/*#__PURE__*/_jsx(MemberInput,{projectName:projectName,onMembersCreated:handleMembersCreated}):loading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Now loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Team Name: \",projectName]}),/*#__PURE__*/_jsx(ExpenseForm,{projectName:projectName,members:members}),/*#__PURE__*/_jsx(\"h2\",{children:\"Record\"}),/*#__PURE__*/_jsx(\"ul\",{children:expenses.map((expense,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[expense.payer,\" pays \",expense.amount,\" yen to \",expense.payees.join(', ')]},index))})]}):continueProject?loading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Now loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\"})})]}):membersConfirmed?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Team name: \",projectName]}),/*#__PURE__*/_jsx(ExpenseForm,{projectName:projectName,members:members}),/*#__PURE__*/_jsx(\"h2\",{children:\"Record\"}),/*#__PURE__*/_jsx(\"ul\",{children:expenses.map((expense,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[expense.payer,\" pays \",expense.amount,\"yen  to\",expense.payees.join(', ')]},index))})]}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Write Your Project\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:projectName||'',onChange:e=>setProjectName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleContinueProject,children:\"Go\"})})]}):null});};const container=document.getElementById('root');const root=createRoot(container);root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}));","map":{"version":3,"names":["React","useState","createRoot","ProjectNameInput","MemberInput","ExpenseForm","doc","getDoc","db","jsx","_jsx","jsxs","_jsxs","App","projectName","setProjectName","members","setMembers","expenses","setExpenses","loading","setLoading","confirmingMembers","setConfirmingMembers","membersConfirmed","setMembersConfirmed","continueProject","setContinueProject","startNew","setStartNew","handleProjectCreated","name","handleMembersCreated","handleConfirmMembers","setTimeout","handleContinueProject","projectRef","projectDoc","exists","projectData","data","alert","error","message","children","style","textAlign","onClick","onProjectCreated","map","member","index","onMembersCreated","className","expense","payer","amount","payees","join","type","value","onChange","e","target","required","container","document","getElementById","root","render","StrictMode"],"sources":["C:/Users/ru07k/test/warikan/warikan/src/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport ProjectNameInput from './ProjectNameInput';\r\nimport MemberInput from './MemberInput';\r\nimport ExpenseForm from './ExpenseForm';\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from './firebaseConfig';\r\nimport './index.css';\r\n\r\nconst App = () => {\r\n  const [projectName, setProjectName] = useState('');\r\n  const [members, setMembers] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [confirmingMembers, setConfirmingMembers] = useState(false);\r\n  const [membersConfirmed, setMembersConfirmed] = useState(false);\r\n  const [continueProject, setContinueProject] = useState(false);\r\n  const [startNew, setStartNew] = useState(false);\r\n\r\n  const handleProjectCreated = (name) => {\r\n    setProjectName(name);\r\n  };\r\n\r\n  const handleMembersCreated = (members) => {\r\n    setMembers(members);\r\n    setConfirmingMembers(true);\r\n  };\r\n\r\n  const handleConfirmMembers = () => {\r\n    setConfirmingMembers(false);\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      setMembersConfirmed(true);\r\n    }, 3000);\r\n  };\r\n\r\n  const handleContinueProject = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const projectDoc = await getDoc(projectRef);\r\n      if (projectDoc.exists()) {\r\n        const projectData = projectDoc.data();\r\n        setProjectName(projectData.name);\r\n        setMembers(projectData.members);\r\n        setExpenses(projectData.expenses || []);\r\n        setMembersConfirmed(true);\r\n      } else {\r\n        alert('プロジェクトが見つかりません');\r\n      }\r\n    } catch (error) {\r\n      alert('エラーが発生しました: ' + error.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!startNew && !continueProject ? (\r\n        <div style={{ textAlign: 'center' }}>\r\n          <h1>Warika</h1>\r\n          <div>\r\n            <button onClick={() => setStartNew(true)}>New game</button>\r\n          </div>\r\n          <div>\r\n            <button onClick={() => setContinueProject(true)}>load game</button>\r\n          </div>\r\n        </div>\r\n      ) : startNew ? (\r\n        !projectName ? (\r\n          <ProjectNameInput onProjectCreated={handleProjectCreated} />\r\n        ) : !membersConfirmed ? (\r\n          confirmingMembers ? (\r\n            <div>\r\n              <h1>このメンバーでよろしいですかな?</h1>\r\n              <ul>\r\n                {members.map((member, index) => (\r\n                  <li key={index}>{member}</li>\r\n                ))}\r\n              </ul>\r\n              <button onClick={handleConfirmMembers}>Yes</button>\r\n            </div>\r\n          ) : (\r\n            <MemberInput projectName={projectName} onMembersCreated={handleMembersCreated} />\r\n          )\r\n        ) : loading ? (\r\n          <div>\r\n            <h1>Now loading...</h1>\r\n            <div className=\"progress-bar\">\r\n              <div className=\"progress\"></div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h1>Team Name: {projectName}</h1>\r\n            <ExpenseForm projectName={projectName} members={members} />\r\n           \r\n            <h2>Record</h2>\r\n            <ul>\r\n              {expenses.map((expense, index) => (\r\n                <li key={index}>\r\n                  {expense.payer} pays {expense.amount} yen to {expense.payees.join(', ')} \r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )\r\n      ) : continueProject ? (\r\n        loading ? (\r\n          <div>\r\n            <h1>Now loading...</h1>\r\n            <div className=\"progress-bar\">\r\n              <div className=\"progress\"></div>\r\n            </div>\r\n          </div>\r\n        ) : membersConfirmed ? (\r\n          <div style={{ textAlign: 'center' }}>\r\n            <h1>Team name: {projectName}</h1>\r\n            <ExpenseForm projectName={projectName} members={members} />\r\n           \r\n            <h2>Record</h2>\r\n            <ul>\r\n              {expenses.map((expense, index) => (\r\n                <li key={index}>\r\n                  {expense.payer} pays {expense.amount}yen  to{expense.payees.join(', ')} \r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : (\r\n          <div style={{ textAlign: 'center' }}>\r\n            <h1>Write Your Project</h1>\r\n            <input\r\n              type=\"text\"\r\n              value={projectName || ''}\r\n              onChange={(e) => setProjectName(e.target.value)}\r\n              required\r\n            />\r\n            <div>\r\n            <button onClick={handleContinueProject}>Go</button>\r\n\r\n          </div>  \r\n          </div>\r\n        )\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst container = document.getElementById('root');\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}