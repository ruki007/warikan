{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ru07k\\\\test\\\\warikan\\\\warikan\\\\src\\\\ExpenseForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { db } from './firebaseConfig';\nimport { doc, updateDoc, arrayUnion, getDoc } from \"firebase/firestore\";\nimport { calculateBalances, calculateTransfers } from './calculate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExpenseForm = ({\n  projectName,\n  members\n}) => {\n  _s();\n  const [payer, setPayer] = useState('');\n  const [amount, setAmount] = useState('');\n  const [payees, setPayees] = useState([]);\n  const [error, setError] = useState('');\n  const [transfers, setTransfers] = useState([]);\n  const [expenses, setExpenses] = useState([]); // 支払い記録を保存するステート\n  const [editingExpense, setEditingExpense] = useState(null); // 編集中の支払い記録\n\n  const handlePayeeChange = (index, value) => {\n    const newPayees = [...payees];\n    newPayees[index] = value;\n    setPayees(newPayees);\n  };\n  const handleAddPayee = () => {\n    setPayees([...payees, '']);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const projectRef = doc(db, \"projects\", projectName);\n      const finalPayees = payees.includes('全員') ? members : payees;\n      await updateDoc(projectRef, {\n        expenses: arrayUnion({\n          payer: payer,\n          amount: parseFloat(amount),\n          payees: finalPayees\n        })\n      });\n      alert('支出が記録されました');\n      await fetchExpenses(); // 新しい支払い記録を取得\n      await fetchTransfers(); // 支払い指示を再計算\n    } catch (error) {\n      setError('エラーが発生しました: ' + error.message);\n    }\n  };\n  const resetinput = () => {\n    setPayer('');\n    setAmount('');\n    setPayees([]);\n  };\n  const fetchExpenses = async () => {\n    try {\n      const projectRef = doc(db, \"projects\", projectName);\n      const projectDoc = await getDoc(projectRef);\n      if (projectDoc.exists()) {\n        const projectData = projectDoc.data();\n        setExpenses(projectData.expenses || []); // Firestoreから支払い記録を取得\n      } else {\n        setError('プロジェクトが見つかりません');\n      }\n    } catch (error) {\n      setError('支払い記録の取得中にエラーが発生しました: ' + error.message);\n    }\n  };\n  const fetchTransfers = async () => {\n    try {\n      const balances = await calculateBalances(projectName);\n      const transfers = calculateTransfers(balances);\n      setTransfers(transfers);\n    } catch (error) {\n      setError('計算中にエラーが発生しました: ' + error.message);\n    }\n  };\n  const handleEditExpense = expense => {\n    setEditingExpense(expense);\n    setPayer(expense.payer);\n    setAmount(expense.amount);\n    setPayees(expense.payees);\n  };\n  const DeleteExpense = async expense => {\n    setError('');\n    try {\n      const projectRef = doc(db, \"projects\", projectName);\n      const updatedExpenses = expenses.filter(exp => exp !== expense); // 削除対象を除外\n      await updateDoc(projectRef, {\n        expenses: updatedExpenses\n      }); // Firestoreを更新\n      setExpenses(updatedExpenses); // ローカルステートを更新\n      alert('支払い記録が削除されました');\n      await fetchTransfers(); // 支払い指示を再計算\n    } catch (error) {\n      setError('支払い記録の削除中にエラーが発生しました: ' + error.message);\n    }\n  };\n  const updateExpense = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const projectRef = doc(db, \"projects\", projectName);\n      const updatedExpenses = expenses.map(expense => expense === editingExpense ? {\n        payer,\n        amount: parseFloat(amount),\n        payees\n      } : expense);\n      await updateDoc(projectRef, {\n        expenses: updatedExpenses\n      });\n      setExpenses(updatedExpenses);\n      setEditingExpense(null);\n      alert('支払い記録が更新されました');\n      await fetchTransfers(); // 支払い指示を再計算\n    } catch (error) {\n      setError('支払い記録の更新中にエラーが発生しました: ' + error.message);\n    }\n  };\n  useEffect(() => {\n    fetchExpenses(); // 初期化時に支払い記録を取得\n    fetchTransfers(); // 初期化時に支払い指示を計算\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Your Record\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: editingExpense ? updateExpense : handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Payer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: payer,\n          onChange: e => setPayer(e.target.value),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"choose\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), members.map((member, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: member,\n            children: member\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"money:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Payee:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), payees.map((payee, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: payee,\n            onChange: e => handlePayeeChange(index, e.target.value),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Choose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), members.map((member, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: member,\n              children: member\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u5168\\u54E1\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddPayee,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: resetinput,\n        children: \"reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: editingExpense ? '更新' : 'save'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Record\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: expenses.map((expense, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [expense.payer, \" pays \", expense.amount, \" yen to \", expense.payees.join(', '), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditExpense(expense),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => DeleteExpense(expense),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 7\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"pays instruction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: transfers.map((transfer, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [transfer.from, \" pays \", transfer.to, \"  \", transfer.amount, \" Yen\"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpenseForm, \"EckMUdJdsxf2Q5iRkZ2vjBXOmx4=\");\n_c = ExpenseForm;\nexport default ExpenseForm;\nvar _c;\n$RefreshReg$(_c, \"ExpenseForm\");","map":{"version":3,"names":["React","useState","useEffect","db","doc","updateDoc","arrayUnion","getDoc","calculateBalances","calculateTransfers","jsxDEV","_jsxDEV","ExpenseForm","projectName","members","_s","payer","setPayer","amount","setAmount","payees","setPayees","error","setError","transfers","setTransfers","expenses","setExpenses","editingExpense","setEditingExpense","handlePayeeChange","index","value","newPayees","handleAddPayee","handleSubmit","e","preventDefault","projectRef","finalPayees","includes","parseFloat","alert","fetchExpenses","fetchTransfers","message","resetinput","projectDoc","exists","projectData","data","balances","handleEditExpense","expense","DeleteExpense","updatedExpenses","filter","exp","updateExpense","map","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","target","required","member","type","payee","idx","onClick","color","join","transfer","from","to","_c","$RefreshReg$"],"sources":["C:/Users/ru07k/test/warikan/warikan/src/ExpenseForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from './firebaseConfig';\r\nimport { doc, updateDoc, arrayUnion, getDoc } from \"firebase/firestore\";\r\nimport { calculateBalances, calculateTransfers } from './calculate';\r\n\r\nconst ExpenseForm = ({ projectName, members }) => {\r\n  const [payer, setPayer] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [payees, setPayees] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [transfers, setTransfers] = useState([]);\r\n  const [expenses, setExpenses] = useState([]); // 支払い記録を保存するステート\r\n  const [editingExpense, setEditingExpense] = useState(null); // 編集中の支払い記録\r\n\r\n  const handlePayeeChange = (index, value) => {\r\n    const newPayees = [...payees];\r\n    newPayees[index] = value;\r\n    setPayees(newPayees);\r\n  };\r\n\r\n  const handleAddPayee = () => {\r\n    setPayees([...payees, '']);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const finalPayees = payees.includes('全員') ? members : payees;\r\n      await updateDoc(projectRef, {\r\n        expenses: arrayUnion({\r\n          payer: payer,\r\n          amount: parseFloat(amount),\r\n          payees: finalPayees\r\n        })\r\n      });\r\n      alert('支出が記録されました');\r\n      await fetchExpenses(); // 新しい支払い記録を取得\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('エラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\nconst resetinput = () => {  \r\n  setPayer('');\r\n  setAmount('');\r\n  setPayees([]);\r\n};\r\n\r\n\r\n\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const projectDoc = await getDoc(projectRef);\r\n      if (projectDoc.exists()) {\r\n        const projectData = projectDoc.data();\r\n        setExpenses(projectData.expenses || []); // Firestoreから支払い記録を取得\r\n      } else {\r\n        setError('プロジェクトが見つかりません');\r\n      }\r\n    } catch (error) {\r\n      setError('支払い記録の取得中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const fetchTransfers = async () => {\r\n    try {\r\n      const balances = await calculateBalances(projectName);\r\n      const transfers = calculateTransfers(balances);\r\n      setTransfers(transfers);\r\n    } catch (error) {\r\n      setError('計算中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleEditExpense = (expense) => {\r\n    setEditingExpense(expense);\r\n    setPayer(expense.payer);\r\n    setAmount(expense.amount);\r\n    setPayees(expense.payees);\r\n  };\r\n  const DeleteExpense = async (expense) => {\r\n    setError('');\r\n  \r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const updatedExpenses = expenses.filter((exp) => exp !== expense); // 削除対象を除外\r\n      await updateDoc(projectRef, { expenses: updatedExpenses }); // Firestoreを更新\r\n      setExpenses(updatedExpenses); // ローカルステートを更新\r\n      alert('支払い記録が削除されました');\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('支払い記録の削除中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n    \r\n\r\n\r\n  const updateExpense = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const updatedExpenses = expenses.map((expense) =>\r\n        expense === editingExpense\r\n          ? { payer, amount: parseFloat(amount), payees }\r\n          : expense\r\n      );\r\n      await updateDoc(projectRef, { expenses: updatedExpenses });\r\n      setExpenses(updatedExpenses);\r\n      setEditingExpense(null);\r\n      alert('支払い記録が更新されました');\r\n      await fetchTransfers(); // 支払い指示を再計算\r\n    } catch (error) {\r\n      setError('支払い記録の更新中にエラーが発生しました: ' + error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchExpenses(); // 初期化時に支払い記録を取得\r\n    fetchTransfers(); // 初期化時に支払い指示を計算\r\n  }, []);\r\n\r\n  return (\r\n    <div style = {{ textAlign: 'center' }}>\r\n      <h1>Your Record</h1>\r\n      <form onSubmit={editingExpense ? updateExpense : handleSubmit}>\r\n        <div>\r\n          <label>Payer:</label>\r\n          <select value={payer} onChange={(e) => setPayer(e.target.value)} required>\r\n            <option value=\"\">choose</option>\r\n            {members.map((member, index) => (\r\n              <option key={index} value={member}>{member}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>money:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Payee:</label>\r\n          {payees.map((payee, index) => (\r\n            <div key={index}>\r\n              <select value={payee} onChange={(e) => handlePayeeChange(index, e.target.value)} required>\r\n                <option value=\"\">Choose</option>\r\n                {members.map((member, idx) => (\r\n                  <option key={idx} value={member}>{member}</option>\r\n                ))}\r\n                <option value=\"全員\">All</option>\r\n              </select>\r\n            </div>\r\n          ))}\r\n          <button type=\"button\" onClick={handleAddPayee}>+</button>\r\n         \r\n        </div>\r\n        <button type=\"button\" onClick={resetinput}>reset</button>\r\n        <button type=\"submit\">{editingExpense ? '更新' : 'save'}</button>\r\n      </form>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      <h2>Record</h2>\r\n      <ul>\r\n  {expenses.map((expense, index) => (\r\n    <li key={index}>\r\n      {expense.payer} pays {expense.amount} yen to {expense.payees.join(', ')} \r\n      <button onClick={() => handleEditExpense(expense)}>Edit</button>\r\n      <button onClick={() => DeleteExpense(expense)}>Delete</button>\r\n    </li>\r\n  ))}\r\n</ul>\r\n      <h2>pays instruction</h2>\r\n      <ul>\r\n        {transfers.map((transfer, index) => (\r\n          <li key={index}>\r\n            {transfer.from} pays {transfer.to}  {transfer.amount} Yen\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );  \r\n};\r\n\r\n\r\n\r\n\r\nexport default ExpenseForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,kBAAkB;AACrC,SAASC,GAAG,EAAEC,SAAS,EAAEC,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACvE,SAASC,iBAAiB,EAAEC,kBAAkB,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,MAAMC,WAAW,GAAGA,CAAC;EAAEC,WAAW;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACmB,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC9C,MAAM,CAAC2B,cAAc,EAAEC,iBAAiB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE5D,MAAM6B,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC1C,MAAMC,SAAS,GAAG,CAAC,GAAGb,MAAM,CAAC;IAC7Ba,SAAS,CAACF,KAAK,CAAC,GAAGC,KAAK;IACxBX,SAAS,CAACY,SAAS,CAAC;EACtB,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3Bb,SAAS,CAAC,CAAC,GAAGD,MAAM,EAAE,EAAE,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMe,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBd,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMe,UAAU,GAAGlC,GAAG,CAACD,EAAE,EAAE,UAAU,EAAEU,WAAW,CAAC;MACnD,MAAM0B,WAAW,GAAGnB,MAAM,CAACoB,QAAQ,CAAC,IAAI,CAAC,GAAG1B,OAAO,GAAGM,MAAM;MAC5D,MAAMf,SAAS,CAACiC,UAAU,EAAE;QAC1BZ,QAAQ,EAAEpB,UAAU,CAAC;UACnBU,KAAK,EAAEA,KAAK;UACZE,MAAM,EAAEuB,UAAU,CAACvB,MAAM,CAAC;UAC1BE,MAAM,EAAEmB;QACV,CAAC;MACH,CAAC,CAAC;MACFG,KAAK,CAAC,YAAY,CAAC;MACnB,MAAMC,aAAa,CAAC,CAAC,CAAC,CAAC;MACvB,MAAMC,cAAc,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACdC,QAAQ,CAAC,cAAc,GAAGD,KAAK,CAACuB,OAAO,CAAC;IAC1C;EACF,CAAC;EACH,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB7B,QAAQ,CAAC,EAAE,CAAC;IACZE,SAAS,CAAC,EAAE,CAAC;IACbE,SAAS,CAAC,EAAE,CAAC;EACf,CAAC;EAIC,MAAMsB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAML,UAAU,GAAGlC,GAAG,CAACD,EAAE,EAAE,UAAU,EAAEU,WAAW,CAAC;MACnD,MAAMkC,UAAU,GAAG,MAAMxC,MAAM,CAAC+B,UAAU,CAAC;MAC3C,IAAIS,UAAU,CAACC,MAAM,CAAC,CAAC,EAAE;QACvB,MAAMC,WAAW,GAAGF,UAAU,CAACG,IAAI,CAAC,CAAC;QACrCvB,WAAW,CAACsB,WAAW,CAACvB,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC;MAC3C,CAAC,MAAM;QACLH,QAAQ,CAAC,gBAAgB,CAAC;MAC5B;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdC,QAAQ,CAAC,wBAAwB,GAAGD,KAAK,CAACuB,OAAO,CAAC;IACpD;EACF,CAAC;EAED,MAAMD,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAM3C,iBAAiB,CAACK,WAAW,CAAC;MACrD,MAAMW,SAAS,GAAGf,kBAAkB,CAAC0C,QAAQ,CAAC;MAC9C1B,YAAY,CAACD,SAAS,CAAC;IACzB,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,QAAQ,CAAC,kBAAkB,GAAGD,KAAK,CAACuB,OAAO,CAAC;IAC9C;EACF,CAAC;EAED,MAAMO,iBAAiB,GAAIC,OAAO,IAAK;IACrCxB,iBAAiB,CAACwB,OAAO,CAAC;IAC1BpC,QAAQ,CAACoC,OAAO,CAACrC,KAAK,CAAC;IACvBG,SAAS,CAACkC,OAAO,CAACnC,MAAM,CAAC;IACzBG,SAAS,CAACgC,OAAO,CAACjC,MAAM,CAAC;EAC3B,CAAC;EACD,MAAMkC,aAAa,GAAG,MAAOD,OAAO,IAAK;IACvC9B,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMe,UAAU,GAAGlC,GAAG,CAACD,EAAE,EAAE,UAAU,EAAEU,WAAW,CAAC;MACnD,MAAM0C,eAAe,GAAG7B,QAAQ,CAAC8B,MAAM,CAAEC,GAAG,IAAKA,GAAG,KAAKJ,OAAO,CAAC,CAAC,CAAC;MACnE,MAAMhD,SAAS,CAACiC,UAAU,EAAE;QAAEZ,QAAQ,EAAE6B;MAAgB,CAAC,CAAC,CAAC,CAAC;MAC5D5B,WAAW,CAAC4B,eAAe,CAAC,CAAC,CAAC;MAC9Bb,KAAK,CAAC,eAAe,CAAC;MACtB,MAAME,cAAc,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACdC,QAAQ,CAAC,wBAAwB,GAAGD,KAAK,CAACuB,OAAO,CAAC;IACpD;EACF,CAAC;EAKD,MAAMa,aAAa,GAAG,MAAOtB,CAAC,IAAK;IACjCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBd,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMe,UAAU,GAAGlC,GAAG,CAACD,EAAE,EAAE,UAAU,EAAEU,WAAW,CAAC;MACnD,MAAM0C,eAAe,GAAG7B,QAAQ,CAACiC,GAAG,CAAEN,OAAO,IAC3CA,OAAO,KAAKzB,cAAc,GACtB;QAAEZ,KAAK;QAAEE,MAAM,EAAEuB,UAAU,CAACvB,MAAM,CAAC;QAAEE;MAAO,CAAC,GAC7CiC,OACN,CAAC;MACD,MAAMhD,SAAS,CAACiC,UAAU,EAAE;QAAEZ,QAAQ,EAAE6B;MAAgB,CAAC,CAAC;MAC1D5B,WAAW,CAAC4B,eAAe,CAAC;MAC5B1B,iBAAiB,CAAC,IAAI,CAAC;MACvBa,KAAK,CAAC,eAAe,CAAC;MACtB,MAAME,cAAc,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACdC,QAAQ,CAAC,wBAAwB,GAAGD,KAAK,CAACuB,OAAO,CAAC;IACpD;EACF,CAAC;EAED3C,SAAS,CAAC,MAAM;IACdyC,aAAa,CAAC,CAAC,CAAC,CAAC;IACjBC,cAAc,CAAC,CAAC,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjC,OAAA;IAAKiD,KAAK,EAAI;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACpCnD,OAAA;MAAAmD,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpBvD,OAAA;MAAMwD,QAAQ,EAAEvC,cAAc,GAAG8B,aAAa,GAAGvB,YAAa;MAAA2B,QAAA,gBAC5DnD,OAAA;QAAAmD,QAAA,gBACEnD,OAAA;UAAAmD,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrBvD,OAAA;UAAQqB,KAAK,EAAEhB,KAAM;UAACoD,QAAQ,EAAGhC,CAAC,IAAKnB,QAAQ,CAACmB,CAAC,CAACiC,MAAM,CAACrC,KAAK,CAAE;UAACsC,QAAQ;UAAAR,QAAA,gBACvEnD,OAAA;YAAQqB,KAAK,EAAC,EAAE;YAAA8B,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC/BpD,OAAO,CAAC6C,GAAG,CAAC,CAACY,MAAM,EAAExC,KAAK,kBACzBpB,OAAA;YAAoBqB,KAAK,EAAEuC,MAAO;YAAAT,QAAA,EAAES;UAAM,GAA7BxC,KAAK;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAiC,CACpD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNvD,OAAA;QAAAmD,QAAA,gBACEnD,OAAA;UAAAmD,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrBvD,OAAA;UACE6D,IAAI,EAAC,QAAQ;UACbxC,KAAK,EAAEd,MAAO;UACdkD,QAAQ,EAAGhC,CAAC,IAAKjB,SAAS,CAACiB,CAAC,CAACiC,MAAM,CAACrC,KAAK,CAAE;UAC3CsC,QAAQ;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNvD,OAAA;QAAAmD,QAAA,gBACEnD,OAAA;UAAAmD,QAAA,EAAO;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACpB9C,MAAM,CAACuC,GAAG,CAAC,CAACc,KAAK,EAAE1C,KAAK,kBACvBpB,OAAA;UAAAmD,QAAA,eACEnD,OAAA;YAAQqB,KAAK,EAAEyC,KAAM;YAACL,QAAQ,EAAGhC,CAAC,IAAKN,iBAAiB,CAACC,KAAK,EAAEK,CAAC,CAACiC,MAAM,CAACrC,KAAK,CAAE;YAACsC,QAAQ;YAAAR,QAAA,gBACvFnD,OAAA;cAAQqB,KAAK,EAAC,EAAE;cAAA8B,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC/BpD,OAAO,CAAC6C,GAAG,CAAC,CAACY,MAAM,EAAEG,GAAG,kBACvB/D,OAAA;cAAkBqB,KAAK,EAAEuC,MAAO;cAAAT,QAAA,EAAES;YAAM,GAA3BG,GAAG;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiC,CAClD,CAAC,eACFvD,OAAA;cAAQqB,KAAK,EAAC,cAAI;cAAA8B,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB;QAAC,GAPDnC,KAAK;UAAAgC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQV,CACN,CAAC,eACFvD,OAAA;UAAQ6D,IAAI,EAAC,QAAQ;UAACG,OAAO,EAAEzC,cAAe;UAAA4B,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEtD,CAAC,eACNvD,OAAA;QAAQ6D,IAAI,EAAC,QAAQ;QAACG,OAAO,EAAE7B,UAAW;QAAAgB,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACzDvD,OAAA;QAAQ6D,IAAI,EAAC,QAAQ;QAAAV,QAAA,EAAElC,cAAc,GAAG,IAAI,GAAG;MAAM;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC,EACN5C,KAAK,iBAAIX,OAAA;MAAGiD,KAAK,EAAE;QAAEgB,KAAK,EAAE;MAAM,CAAE;MAAAd,QAAA,EAAExC;IAAK;MAAAyC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjDvD,OAAA;MAAAmD,QAAA,EAAI;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACfvD,OAAA;MAAAmD,QAAA,EACHpC,QAAQ,CAACiC,GAAG,CAAC,CAACN,OAAO,EAAEtB,KAAK,kBAC3BpB,OAAA;QAAAmD,QAAA,GACGT,OAAO,CAACrC,KAAK,EAAC,QAAM,EAACqC,OAAO,CAACnC,MAAM,EAAC,UAAQ,EAACmC,OAAO,CAACjC,MAAM,CAACyD,IAAI,CAAC,IAAI,CAAC,eACvElE,OAAA;UAAQgE,OAAO,EAAEA,CAAA,KAAMvB,iBAAiB,CAACC,OAAO,CAAE;UAAAS,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChEvD,OAAA;UAAQgE,OAAO,EAAEA,CAAA,KAAMrB,aAAa,CAACD,OAAO,CAAE;UAAAS,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GAHvDnC,KAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIV,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eACCvD,OAAA;MAAAmD,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzBvD,OAAA;MAAAmD,QAAA,EACGtC,SAAS,CAACmC,GAAG,CAAC,CAACmB,QAAQ,EAAE/C,KAAK,kBAC7BpB,OAAA;QAAAmD,QAAA,GACGgB,QAAQ,CAACC,IAAI,EAAC,QAAM,EAACD,QAAQ,CAACE,EAAE,EAAC,IAAE,EAACF,QAAQ,CAAC5D,MAAM,EAAC,MACvD;MAAA,GAFSa,KAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEV,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV,CAAC;AAACnD,EAAA,CAzLIH,WAAW;AAAAqE,EAAA,GAAXrE,WAAW;AA8LjB,eAAeA,WAAW;AAAC,IAAAqE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}