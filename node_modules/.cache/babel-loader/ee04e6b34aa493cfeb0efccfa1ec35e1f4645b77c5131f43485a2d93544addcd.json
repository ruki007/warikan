{"ast":null,"code":"import React,{useState}from'react';import{createRoot}from'react-dom/client';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import ProjectNameInput from'./ProjectNameInput';import MemberInput from'./MemberInput';import ExpenseForm from'./ExpenseForm';import{doc,getDoc}from\"firebase/firestore\";import{db}from'./firebaseConfig';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Warika\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/new-game\",children:/*#__PURE__*/_jsx(\"button\",{children:\"New game\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/load-game\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Load game\"})})})]});};const App=()=>{const[projectName,setProjectName]=useState('');const[members,setMembers]=useState([]);const[expenses,setExpenses]=useState([]);const[loading,setLoading]=useState(false);const[confirmingMembers,setConfirmingMembers]=useState(false);const[membersConfirmed,setMembersConfirmed]=useState(false);const handleProjectCreated=name=>{setProjectName(name);};const handleMembersCreated=members=>{setMembers(members);setConfirmingMembers(true);};const handleConfirmMembers=()=>{setConfirmingMembers(false);setLoading(true);setTimeout(()=>{setLoading(false);setMembersConfirmed(true);},3000);};const handleContinueProject=async()=>{setLoading(true);try{const projectRef=doc(db,\"projects\",projectName);const projectDoc=await getDoc(projectRef);if(projectDoc.exists()){const projectData=projectDoc.data();setProjectName(projectData.name);setMembers(projectData.members);setExpenses(projectData.expenses||[]);setMembersConfirmed(true);}else{alert('プロジェクトが見つかりません');}}catch(error){alert('エラーが発生しました: '+error.message);}setLoading(false);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/new-game\",element:!projectName?/*#__PURE__*/_jsx(ProjectNameInput,{onProjectCreated:handleProjectCreated}):!membersConfirmed?confirmingMembers?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u3053\\u306E\\u30E1\\u30F3\\u30D0\\u30FC\\u3067\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B\\u306A?\"}),/*#__PURE__*/_jsx(\"ul\",{children:members.map((member,index)=>/*#__PURE__*/_jsx(\"li\",{children:member},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmMembers,children:\"Yes\"})]}):/*#__PURE__*/_jsx(MemberInput,{projectName:projectName,onMembersCreated:handleMembersCreated}):loading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Now loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\"})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Team Name: \",projectName]}),/*#__PURE__*/_jsx(ExpenseForm,{projectName:projectName,members:members}),/*#__PURE__*/_jsx(\"h2\",{children:\"Record\"}),/*#__PURE__*/_jsx(\"ul\",{children:expenses.map((expense,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[expense.payer,\" pays \",expense.amount,\" yen to \",expense.payees.join(', ')]},index))})]})}),/*#__PURE__*/_jsx(Route,{path:\"/load-game\",element:loading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Now loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\"})})]}):membersConfirmed?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Team name: \",projectName]}),/*#__PURE__*/_jsx(ExpenseForm,{projectName:projectName,members:members}),/*#__PURE__*/_jsx(\"h2\",{children:\"Record\"}),/*#__PURE__*/_jsx(\"ul\",{children:expenses.map((expense,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[expense.payer,\" pays \",expense.amount,\" yen to \",expense.payees.join(', ')]},index))})]}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Write Your Project\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:projectName||'',onChange:e=>setProjectName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleContinueProject,children:\"Go\"})})]})})]})});};const container=document.getElementById('root');const root=createRoot(container);root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}));","map":{"version":3,"names":["React","useState","createRoot","BrowserRouter","Router","Routes","Route","ProjectNameInput","MemberInput","ExpenseForm","doc","getDoc","db","jsx","_jsx","jsxs","_jsxs","Home","style","textAlign","children","href","App","projectName","setProjectName","members","setMembers","expenses","setExpenses","loading","setLoading","confirmingMembers","setConfirmingMembers","membersConfirmed","setMembersConfirmed","handleProjectCreated","name","handleMembersCreated","handleConfirmMembers","setTimeout","handleContinueProject","projectRef","projectDoc","exists","projectData","data","alert","error","message","path","element","onProjectCreated","map","member","index","onClick","onMembersCreated","className","expense","payer","amount","payees","join","type","value","onChange","e","target","required","container","document","getElementById","root","render","StrictMode"],"sources":["C:/Users/ru07k/test/warikan/warikan/src/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport ProjectNameInput from './ProjectNameInput';\r\nimport MemberInput from './MemberInput';\r\nimport ExpenseForm from './ExpenseForm';\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from './firebaseConfig';\r\nimport './index.css';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <h1>Warika</h1>\r\n      <div>\r\n        <a href=\"/new-game\">\r\n          <button>New game</button>\r\n        </a>\r\n      </div>\r\n      <div>\r\n        <a href=\"/load-game\">\r\n          <button>Load game</button>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  const [projectName, setProjectName] = useState('');\r\n  const [members, setMembers] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [confirmingMembers, setConfirmingMembers] = useState(false);\r\n  const [membersConfirmed, setMembersConfirmed] = useState(false);\r\n\r\n  const handleProjectCreated = (name) => {\r\n    setProjectName(name);\r\n  };\r\n\r\n  const handleMembersCreated = (members) => {\r\n    setMembers(members);\r\n    setConfirmingMembers(true);\r\n  };\r\n\r\n  const handleConfirmMembers = () => {\r\n    setConfirmingMembers(false);\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n      setMembersConfirmed(true);\r\n    }, 3000);\r\n  };\r\n\r\n  const handleContinueProject = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const projectRef = doc(db, \"projects\", projectName);\r\n      const projectDoc = await getDoc(projectRef);\r\n      if (projectDoc.exists()) {\r\n        const projectData = projectDoc.data();\r\n        setProjectName(projectData.name);\r\n        setMembers(projectData.members);\r\n        setExpenses(projectData.expenses || []);\r\n        setMembersConfirmed(true);\r\n      } else {\r\n        alert('プロジェクトが見つかりません');\r\n      }\r\n    } catch (error) {\r\n      alert('エラーが発生しました: ' + error.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route\r\n          path=\"/new-game\"\r\n          element={\r\n            !projectName ? (\r\n              <ProjectNameInput onProjectCreated={handleProjectCreated} />\r\n            ) : !membersConfirmed ? (\r\n              confirmingMembers ? (\r\n                <div>\r\n                  <h1>このメンバーでよろしいですかな?</h1>\r\n                  <ul>\r\n                    {members.map((member, index) => (\r\n                      <li key={index}>{member}</li>\r\n                    ))}\r\n                  </ul>\r\n                  <button onClick={handleConfirmMembers}>Yes</button>\r\n                </div>\r\n              ) : (\r\n                <MemberInput projectName={projectName} onMembersCreated={handleMembersCreated} />\r\n              )\r\n            ) : loading ? (\r\n              <div>\r\n                <h1>Now loading...</h1>\r\n                <div className=\"progress-bar\">\r\n                  <div className=\"progress\"></div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <h1>Team Name: {projectName}</h1>\r\n                <ExpenseForm projectName={projectName} members={members} />\r\n                <h2>Record</h2>\r\n                <ul>\r\n                  {expenses.map((expense, index) => (\r\n                    <li key={index}>\r\n                      {expense.payer} pays {expense.amount} yen to {expense.payees.join(', ')}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/load-game\"\r\n          element={\r\n            loading ? (\r\n              <div>\r\n                <h1>Now loading...</h1>\r\n                <div className=\"progress-bar\">\r\n                  <div className=\"progress\"></div>\r\n                </div>\r\n              </div>\r\n            ) : membersConfirmed ? (\r\n              <div style={{ textAlign: 'center' }}>\r\n                <h1>Team name: {projectName}</h1>\r\n                <ExpenseForm projectName={projectName} members={members} />\r\n                <h2>Record</h2>\r\n                <ul>\r\n                  {expenses.map((expense, index) => (\r\n                    <li key={index}>\r\n                      {expense.payer} pays {expense.amount} yen to {expense.payees.join(', ')}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              <div style={{ textAlign: 'center' }}>\r\n                <h1>Write Your Project</h1>\r\n                <input\r\n                  type=\"text\"\r\n                  value={projectName || ''}\r\n                  onChange={(e) => setProjectName(e.target.value)}\r\n                  required\r\n                />\r\n                <div>\r\n                  <button onClick={handleContinueProject}>Go</button>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n        />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nconst container = document.getElementById('root');\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}